---
import SEO from "../components/SEO.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import ContactSection from "../components/ContactSection.astro";
import SkipLink from "../components/SkipLink.astro";
import { site } from "../content/site";

import "../styles/global.css";

const {
  title = site.name,
  description = site.description,
  canonicalPath = Astro.url.pathname,
  ogImage = site.seo.ogImage,
  robots = site.seo.robots,
  jsonLd,
  mainCentered = false,
  showHeader = true,
  showFooter = true,
  showContactSection = true,
  bodyClass = ""
} = Astro.props;
const canonical = new URL(canonicalPath, site.url).toString();
---

<!doctype html>
<html lang={site.locale}>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="theme-color" content={site.seo.themeColor} />

    <SEO
      title={title}
      description={description}
      canonical={canonical}
      ogImage={ogImage}
      robots={robots}
      jsonLd={jsonLd}
    />
  </head>

  <body class={`page ${bodyClass}`.trim()}>
    <div class="page__content">
      <SkipLink />
      {showHeader && <Header />}
      <main id="main" class={`page__main ${mainCentered ? "page__main--centered" : ""}`}>
        <slot />
      </main>
      {showFooter && showContactSection && <ContactSection />}
    </div>
    {showFooter && (
      <div class="reveal-footer">
        <Footer />
      </div>
    )}
  </body>
</html>
